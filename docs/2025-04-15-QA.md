# QA

## 我需要计算

1. 确保在均线上方
2. 计算日K的KDJ
3. 计算J值第一次出现负值的日期D1
4. 计算D1后J值出现正值（例如50）的D2
5. 统计D1-D2之间的收益
6. j-j>0 else j> 60

- 请根据输入数据,计算20日均线,
- 当日K一直运行在20日线上方时,计算这些股票的KDJ指标
- 当这些筛选后的股票的KDJ指标的J值出现负值后, 记录此时的日期D1
- 然后计算D1后J值首次出现正值的日期D2
- （若J(D2) - J(D1) > 60, 计算此时D1-D2的收益）// （统计D1-D2之间的收益）

现在我想修改下控制策略，若J(D2) - J(D1) > 60, 计算此时D1-D2的收益

# WR指标

- 在股票交易中，WR 指标即威廉指标（Williams % R），是一种技术分析工具，用于衡量股价的超买超卖情况。以下是其详细介绍：

计算公式：$WR = \frac{Hn - C}{Hn - Ln} \times 100\%$。

- 其中，C为当前股价，Hn为过去n个交易日内的最高价，Ln为过去n个交易日内的最低价。常用的n取值为 14 日或 20 日。

- 指标含义：WR 指标的值介于 0 到 100 之间。当 WR 指标接近 0 时，表明股价处于超买状态，市场可能即将出现回调；当 WR 指标接近 100 时，意味着股价处于超卖状态，市场可能即将反弹。

- 研判方法：在实际应用中，投资者可以通过观察 WR 指标的走势来判断股价的短期趋势。例如，当 WR 指标从超买区域向下穿越 50 中轴线时，可能是卖出信号；当 WR 指标从超卖区域向上穿越 50 中轴线时，可能是买入信号。

- 此外，WR 指标还可以与股价走势进行背离分析。当股价创新高而 WR 指标未能同步创新低时，称为顶背离，这往往是股价即将见顶的信号；当股价创新低而 WR 指标未能同步创新高时，称为底背离，这通常是股价即将见底的信号。